<!doctype html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org" th:replace="base :: html">

<div th:fragment="content">

    <main class="py-5">
        <div class="container">
            <h1 class="mb-5 text-center">Créer un produit</h1>

            <form th:object="${produit}"
                  th:action="@{/admin/produits/create}"
                  method="post"
                  enctype="multipart/form-data"
                  class="w-75 mx-auto">

                <!-- NOM -->
                <div class="mb-3">
                    <label class="form-label">Nom du produit</label>
                    <input type="text" th:field="*{nom}" class="form-control" required>
                </div>

                <!-- DESCRIPTION -->
                <div class="mb-3">
                    <label class="form-label">Description</label>
                    <textarea th:field="*{description}" class="form-control" required></textarea>
                </div>

                <!-- PRIX -->
                <div class="mb-3">
                    <label class="form-label">Prix (€)</label>
                    <input type="number" step="0.01" th:field="*{prix}" class="form-control" required>
                </div>

                <!-- STOCK -->
                <div class="mb-3">
                    <label class="form-label">Stock</label>
                    <input type="number" th:field="*{stock}" class="form-control" required>
                </div>

                <!-- IMAGE -->
                <div class="mb-3">
                    <label class="form-label">Image du produit</label>
                    <input type="file" name="imageFile" class="form-control">
                </div>

                <!-- CATEGORIE -->
                <div class="mb-3">
                    <label class="form-label">Catégorie</label>
                    <select th:field="*{categorie.id}" class="form-control" required>
                        <option th:each="cat : ${categories}"
                                th:value="${cat.id}"
                                th:text="${cat.nom}">
                        </option>
                    </select>
                </div>

                <button class="btn btn-success w-100 mt-4">Créer le produit</button>
            </form>

            <div class="mt-3">
                <a th:href="@{/admin/produits}" class="btn btn-secondary">← Retour</a>
            </div>

        </div>
    </main>

</div>
</html>
